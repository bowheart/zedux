
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Zero Configuration Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="dispatchableReducers.html" />
    
    
    <link rel="prev" href="theInspectorLayer.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../overview.html">
            
                <a href="../overview.html">
            
                    
                    Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../examples.html">
            
                <a href="../examples.html">
            
                    
                    Examples
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="./">
            
                <a href="./">
            
                    
                    Guides
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="reactUsage.html">
            
                <a href="reactUsage.html">
            
                    
                    React Usage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="theReducerLayer.html">
            
                <a href="theReducerLayer.html">
            
                    
                    The Reducer Layer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="theProcessorLayer.html">
            
                <a href="theProcessorLayer.html">
            
                    
                    The Processor Layer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="theInspectorLayer.html">
            
                <a href="theInspectorLayer.html">
            
                    
                    The Inspector Layer
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.5" data-path="zeroConfiguration.html">
            
                <a href="zeroConfiguration.html">
            
                    
                    Zero Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="dispatchableReducers.html">
            
                <a href="dispatchableReducers.html">
            
                    
                    Dispatchable Reducers
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="harnessingStateMachines.html">
            
                <a href="harnessingStateMachines.html">
            
                    
                    Harnessing State Machines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="storeComposition.html">
            
                <a href="storeComposition.html">
            
                    
                    Store Composition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="configuringTheHierarchy.html">
            
                <a href="configuringTheHierarchy.html">
            
                    
                    Configuring the Hierarchy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="mergingHierarchies.html">
            
                <a href="mergingHierarchies.html">
            
                    
                    Merging Hierarchies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="metaChains.html">
            
                <a href="metaChains.html">
            
                    
                    Meta Chains
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="optimizingPerformance.html">
            
                <a href="optimizingPerformance.html">
            
                    
                    Optimizing Performance
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../api/">
            
                <a href="../api/">
            
                    
                    API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../api/act.html">
            
                <a href="../api/act.html">
            
                    
                    act
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../api/act.namespace.html">
            
                <a href="../api/act.namespace.html">
            
                    
                    act.namespace
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../api/actionTypes.html">
            
                <a href="../api/actionTypes.html">
            
                    
                    actionTypes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../api/createStore.html">
            
                <a href="../api/createStore.html">
            
                    
                    createStore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../api/metaTypes.html">
            
                <a href="../api/metaTypes.html">
            
                    
                    metaTypes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../api/react.html">
            
                <a href="../api/react.html">
            
                    
                    react
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../api/select.html">
            
                <a href="../api/select.html">
            
                    
                    select
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../api/state.html">
            
                <a href="../api/state.html">
            
                    
                    state
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../api/transition.html">
            
                <a href="../api/transition.html">
            
                    
                    transition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="../api/Store.html">
            
                <a href="../api/Store.html">
            
                    
                    Store
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.11" data-path="../api/ZeduxActor.html">
            
                <a href="../api/ZeduxActor.html">
            
                    
                    ZeduxActor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.12" data-path="../api/ZeduxMachine.html">
            
                <a href="../api/ZeduxMachine.html">
            
                    
                    ZeduxMachine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.13" data-path="../api/ZeduxReactor.html">
            
                <a href="../api/ZeduxReactor.html">
            
                    
                    ZeduxReactor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.14" data-path="../api/ZeduxState.html">
            
                <a href="../api/ZeduxState.html">
            
                    
                    ZeduxState
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../types/">
            
                <a href="../types/">
            
                    
                    Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../types/Action.html">
            
                <a href="../types/Action.html">
            
                    
                    Action
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../types/ActionCreator.html">
            
                <a href="../types/ActionCreator.html">
            
                    
                    ActionCreator
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../types/Actor.html">
            
                <a href="../types/Actor.html">
            
                    
                    Actor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../types/Branch.html">
            
                <a href="../types/Branch.html">
            
                    
                    Branch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../types/Dispatchable.html">
            
                <a href="../types/Dispatchable.html">
            
                    
                    Dispatchable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../types/HierarchyDescriptor.html">
            
                <a href="../types/HierarchyDescriptor.html">
            
                    
                    HierarchyDescriptor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../types/Inducer.html">
            
                <a href="../types/Inducer.html">
            
                    
                    Inducer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../types/Inspector.html">
            
                <a href="../types/Inspector.html">
            
                    
                    Inspector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="../types/MetaChainNode.html">
            
                <a href="../types/MetaChainNode.html">
            
                    
                    MetaChainNode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.10" data-path="../types/MetaNode.html">
            
                <a href="../types/MetaNode.html">
            
                    
                    MetaNode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.11" data-path="../types/NodeOptions.html">
            
                <a href="../types/NodeOptions.html">
            
                    
                    NodeOptions
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.12" data-path="../types/Processor.html">
            
                <a href="../types/Processor.html">
            
                    
                    Processor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.13" data-path="../types/Reactor.html">
            
                <a href="../types/Reactor.html">
            
                    
                    Reactor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.14" data-path="../types/Reducer.html">
            
                <a href="../types/Reducer.html">
            
                    
                    Reducer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.15" data-path="../types/Selector.html">
            
                <a href="../types/Selector.html">
            
                    
                    Selector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.16" data-path="../types/State.html">
            
                <a href="../types/State.html">
            
                    
                    State
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.17" data-path="../types/StoreBase.html">
            
                <a href="../types/StoreBase.html">
            
                    
                    StoreBase
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.18" data-path="../types/Subscription.html">
            
                <a href="../types/Subscription.html">
            
                    
                    Subscription
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../glossary.html">
            
                <a href="../glossary.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../shapeRelationProblems.html">
            
                <a href="../shapeRelationProblems.html">
            
                    
                    Shape Relation Problems
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Zero Configuration</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="zero-configuration">Zero Configuration</h1>
<p>For small applications, Zedux offers the possibility of zero configuration. This makes it easy to get started using Zedux.</p>
<p>Let&apos;s look at the most basic Zedux store:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> goldStore <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

goldStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span>
goldStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token number">130</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Easy?</strong> Oh, definitely.</p>
<p><strong>Unidirectional? Reproducible? Time-traversable?</strong> Actually, still yes. Zedux is pretty cool like that.</p>
<p><strong>Scalable? Standardized? Maintainable?</strong> Not so much.</p>
<p>In this guide, we&apos;ll explore just how truly zero-configured you want your Zedux app to be. We&apos;ll start off looking at the features of Zedux that contribute to zero configuration. Then we&apos;ll explore a few different design patterns surrounding them.</p>
<h2 id="meet-the-players">Meet the players</h2>
<p>The following Zedux features make zero configuration possible:</p>
<ul>
<li><a href="../api/createStore.html"><code>createStore()</code></a>. The almighty Zedux store factory takes no arguments. Just create and go.</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li><a href="../api/Store.html#hydrate"><code>store.hydrate()</code></a>. In a zero-configuration app, there isn&apos;t typically one single &quot;owner&quot; of each piece of state like there is in a reducer hierarchy. Thus we&apos;ll typically explicitly hydrate the store with its entire initial state tree right when we create it.</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    entities<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      todos<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">&apos;1&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> <span class="token string">&apos;never look back&apos;</span><span class="token punctuation">,</span> isComplete<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li><a href="../api/Store.html#storesetstate"><code>store.setState()</code></a>. Don&apos;t let the word <code>set</code> confuse you. This is still unidirectional data flow at its finest. <code>store.setState()</code> enables indulgently easy on-the-fly state updates that are still reproducible (#timetravel).</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    entities<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      todos<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

store<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  entities<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    todos<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      <span class="token string">&apos;1&apos;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> text<span class="token punctuation">:</span> <span class="token string">&apos;get up and stretch&apos;</span><span class="token punctuation">,</span> isComplete<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li><a href="../types/Inducer.html">inducers</a>. While <code>store.setState()</code> is easy and fun, it isn&apos;t very scalable. All but the smallest apps will want to avoid it in most cases. Inducers are a much more scalable design pattern that allows us to create pre-packaged, standard &quot;state updater&quot; packages.</li>
</ul>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> increment <span class="token operator">=</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">const</span> decrement <span class="token operator">=</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">-</span> <span class="token number">1</span>

store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>increment<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>increment<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 2</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>decrement<span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 1</span>
</code></pre>
<h2 id="patterns">Patterns</h2>
<p>Zedux allows for many possible state management design patterns. Which you should choose roughly correlates to the size of your application:</p>
<ul>
<li><strong>~tiny</strong> &#x2013; <code>store.setState()</code>.</li>
<li><strong>~small</strong> &#x2013; Inducers with <code>store.setState()</code> when appropriate.</li>
<li><strong>~small-medium</strong> &#x2013; Inducers FTW.</li>
<li><strong>~medium</strong> &#x2013; Reducer hierarchy with inducers when appropriate.</li>
<li><strong>~medium-large</strong> &#x2013; Reducer hierarchy with separate stores branching off and state machines where appropriate.</li>
<li><strong>~large</strong> &#x2013; Store hierarchy, each store using a reducer hierarchy.</li>
</ul>
<p>These can all be mixed and matched according to your taste and fancy. The awesomeness here is that it is very easy to incrementally migrate a codebase from one pattern to another. Zedux stores, with their time traveling and async handling, will work in all possible scenarios.</p>
<h2 id="scenarios">Scenarios</h2>
<p>These patterns are not set in stone. For example, even tiny applications may want to take advantage of multiple, composed stores. Since size is not the only factor, let&apos;s explore some scenarios where you may want to use a specific pattern.</p>
<h3 id="dynamic-state">Dynamic state</h3>
<p>When a state property can be literally anything, <code>store.setState()</code> can be useful even in very large applications:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">function</span> <span class="token function">handleInput</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    forms<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      billingInfo<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        firstName<span class="token punctuation">:</span> event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>value
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p><code>store.setState()</code> can be used instead of reducers whose whose only job is to set the state to <code>action.payload</code>. The obvious downside is the risk of typos.  We can easily use <a href="dispatchableReducers.html#inducer-factories">inducer factories</a> to mitigate this:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> setFirstName <span class="token operator">=</span> firstName <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  forms<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    billingInfo<span class="token punctuation">:</span> <span class="token punctuation">{</span> firstName <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">handleInput</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">setFirstName</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre>
<p>This is typically the advantage of using inducers over <code>store.setState()</code>; they create a standard, reusable entry point for updating the state.</p>
<h3 id="fixed-state">Fixed state</h3>
<p>When a state property can only take a fixed set of values, <a href="../api/state.html"><code>state()</code></a> can be useful for enumerating those values:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> state <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> asleep <span class="token operator">=</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token string">&apos;asleep&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> offline <span class="token operator">=</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token string">&apos;offline&apos;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> online <span class="token operator">=</span> <span class="token function">state</span><span class="token punctuation">(</span><span class="token string">&apos;online&apos;</span><span class="token punctuation">)</span>
</code></pre>
<p>While <a href="../types/State.html">States</a> are meant to be used in state machines, inducers can use them too:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> sleep <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> asleep<span class="token punctuation">.</span>type
<span class="token keyword">const</span> goOffline <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> offline<span class="token punctuation">.</span>type
<span class="token keyword">const</span> goOnline <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> online<span class="token punctuation">.</span>type
</code></pre>
<p>This way, migrating to a reducer hierarchy later is a piece of cake:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> transition <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> userStatusMachine <span class="token operator">=</span> <span class="token function">transition</span><span class="token punctuation">(</span>asleep<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">undirected</span><span class="token punctuation">(</span>asleep<span class="token punctuation">,</span> offline<span class="token punctuation">,</span> online<span class="token punctuation">)</span>
</code></pre>
<h3 id="isolated-state">Isolated state</h3>
<p>Even small applications will often find pieces of state that are totally isolated from the rest of the application. Isolated stores handle isolated state just beautifully. App size aside. A form is the glaring example here:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> rootStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;./store&apos;</span>

<span class="token keyword">const</span> formStore <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    firstName<span class="token punctuation">:</span> <span class="token string">&apos;&apos;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// Not necessary, but we usually try to register all stores</span>
<span class="token comment" spellcheck="true">// with the root store (e.g. for time travel):</span>
rootStore<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">{</span> form<span class="token punctuation">:</span> formStore <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// A simple event listener for a fun and complete example:</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&apos;firstName&apos;</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&apos;input&apos;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> currentTarget<span class="token punctuation">:</span> <span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
    formStore<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> firstName<span class="token punctuation">:</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>It is usually fine for isolated stores to use a zero configuration setup even in very large applications.</p>
<h2 id="the-initial-state">The initial state</h2>
<p>In a classic reducer hierarchy, each reducer is in complete control of its state. But with zero configuration setups, we don&apos;t have that advantage. Inducers are very similar to sub-reducers in this regard. Compare:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> act<span class="token punctuation">,</span> react <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token function">act</span><span class="token punctuation">(</span><span class="token string">&apos;increment&apos;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> counterReactor <span class="token operator">=</span> <span class="token function">react</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span>increment<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">withReducers</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre>
<p>vs.</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> increment <span class="token operator">=</span> state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span>
</code></pre>
<p>With the <code>counterReactor</code>, we defined the initial state as <code>0</code>. The <code>increment</code> sub-reducer does not control its initial state. Notice that the <code>increment</code> inducer is <em>exactly</em> the same as the <code>increment</code> sub-reducer. As such, the inducer also does not control its initial state.</p>
<p>The solutions to this are:</p>
<p>1) We could just make inducers control their initial state:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token punctuation">(</span>state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span>
<span class="token keyword">const</span> decrement <span class="token operator">=</span> <span class="token punctuation">(</span>state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">-</span> <span class="token number">1</span>
</code></pre>
<p>But this isn&apos;t DRY at all. This is the worst solution.</p>
<p>2) Make an <a href="../glossary.html#adapter">adapter</a> that controls the initial state:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> adapt <span class="token operator">=</span> inducer <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">inducer</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span>

<span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token function">adapt</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> decrement <span class="token operator">=</span> <span class="token function">adapt</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre>
<p>This is a decent solution in certain situations, especially if we need an adapter anyway to pluck a piece off the state tree:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">const</span> useCounter <span class="token operator">=</span> inducer <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span>
  <span class="token punctuation">{</span> counter <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> counter<span class="token punctuation">:</span> <span class="token function">inducer</span><span class="token punctuation">(</span>counter<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> increment <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> decrement <span class="token operator">=</span> <span class="token function">useCounter</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre>
<p>The caveat (or feature?) of this solution is that it prevents the store from containing state that hasn&apos;t been modified yet. In the above example, the store would not contain a <code>counter</code> property until we dispatched an <code>increment</code> or <code>decrement</code> action to it. Probably not what we want. But maybe. Your choice.</p>
<p>Note that solution 1 suffers from this as well. We just didn&apos;t mention that because it wasn&apos;t worth the effort. It is now though. For some reason.</p>
<p>3) Hydrate the store with the entire initial state tree upon creation:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">hydrate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    counter<span class="token punctuation">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre>
<p>This solution is good enough for most cases.</p>
<p>4) Dispatch probed inducer adapters:</p>
<pre class="language-"><code class="lang-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;zedux&apos;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useCounter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&apos;./counter&apos;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment" spellcheck="true">// &quot;probe&quot; the useCounter adapter with the identity function:</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">useCounter</span><span class="token punctuation">(</span>state <span class="token operator">=</span><span class="token operator">&gt;</span> state<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre>
<p>This is essentially a fusion of solutions 2 and 3, but with the caveat of solution 2 removed. We can, of course, optimize this for multiple adapters by composing them together. More on that in the <a href="dispatchableReducers.html">dispatchable reducers guide</a>.</p>
<h2 id="conclusion">Conclusion</h2>
<p><strong>pros</strong></p>
<ul>
<li><p>Easy to get started &#x2013; not much code to write.</p>
</li>
<li><p>Easy to reason about for small applications.</p>
</li>
<li><p>Zedux ensures that every state update is reproducible, so our time travel debugging desires are satiated satisfactorily.</p>
</li>
<li><p>Updating the state in a zero configuration setup is much, much more efficient than a reducer setup. To update one tiny corner of state, a reducer hierarchy must traverse the whole tree &#x2013; O(n). Inducers, however, pluck the piece they need and update just that &#x2013; O(1). This difference probably never matters, but it&apos;s there for you to feel good about.</p>
</li>
</ul>
<p><strong>cons</strong></p>
<ul>
<li><p>Inducers are <a href="../glossary.html#shape-bound">shape bound</a>, whereas reducers are <a href="../glossary.html#shape-agnostic">shape agnostic</a>.</p>
</li>
<li><p>Requires either complex or composite inducers to mimic many-to-many actions-to-reducers mappings.</p>
</li>
<li><p>Relying solely on inducers to update the state tree can become tedious to maintain and reason about in larger applications. This is because there is no single &quot;owner&quot; of each piece of state &#x2013; we have to manually hydrate the store&apos;s initial state. Also, adapters === boilerplate. Too much of that and you might as well be wiring a reducer hierarchy.</p>
</li>
</ul>
<p>Zero configuration is easy by default. But the easiest solutions are also the least scalable. Pick your patterns and standards carefully. But don&apos;t worry too much. Zedux will flex with you as you scale.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="theInspectorLayer.html" class="navigation navigation-prev " aria-label="Previous page: The Inspector Layer">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="dispatchableReducers.html" class="navigation navigation-next " aria-label="Next page: Dispatchable Reducers">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Zero Configuration","level":"1.4.5","depth":2,"next":{"title":"Dispatchable Reducers","level":"1.4.6","depth":2,"path":"docs/guides/dispatchableReducers.md","ref":"docs/guides/dispatchableReducers.md","articles":[]},"previous":{"title":"The Inspector Layer","level":"1.4.4","depth":2,"path":"docs/guides/theInspectorLayer.md","ref":"docs/guides/theInspectorLayer.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["-highlight","prism","anchorjs"],"pluginsConfig":{"prism":{},"anchorjs":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"./docs/styles/website.css"}},"file":{"path":"docs/guides/zeroConfiguration.md","mtime":"2018-02-14T15:43:03.008Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-04-21T20:42:33.166Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-anchorjs/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

